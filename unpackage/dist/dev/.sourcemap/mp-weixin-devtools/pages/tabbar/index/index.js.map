{"version":3,"names":["_sfc_main","data","tabList","id","name","tabIndex","methods","ontabtap","e","index","Number","currentTarget","dataset","current","onswiperchange","detail","getListByIndex","info","userStore","userInfo","other","college","club","computed","store_user","useUserStore","components","wx","createPage","MiniProgramPage"],"sources":["index.vue","cGFnZXMvdGFiYmFyL2luZGV4L2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"tabs\">\n    <!-- 顶部固定导航栏 -->\n    <view class=\"tab-bar\">\n      <view\n        class=\"uni-tab-item\"\n        v-for=\"(tab, index) in tabList\"\n        :key=\"tab.id\"\n        :data-current=\"index\"\n        @click=\"ontabtap\"\n        :class=\"{ 'uni-tab-item-active': tabIndex == index }\"\n      >\n        <text class=\"uni-tab-item-title\">{{ tab.name }}</text>\n      </view>\n    </view>\r\n\t\n    <!-- swiper 内容区 -->\n    <swiper\n      class=\"tab-box\"\n      :current=\"tabIndex\"\n      :duration=\"300\"\n      @change=\"onswiperchange\"\n    >\n\t  <swiper-item\r\n\t    class=\"swiper-item\"\r\n\t    v-for=\"(tab, index) in tabList\"\r\n\t    :key=\"tab.id\"\r\n\t  >\r\n\t    <scroll-view scroll-y class=\"scroll-list\">\r\n\t      <uni-list v-if=\"getListByIndex(index).length > 0\">\r\n\t        <uni-list-item\r\n\t          v-for=\"(item, i) in getListByIndex(index)\"\r\n\t          :key=\"i\"\r\n\t          showArrow\r\n\t        >\r\n\t          <template v-slot:body>\r\n\t            <view class=\"list-item-box\">\r\n\t              <text class=\"title\">{{ item.title }}</text>\r\n\t              <text class=\"desc\">{{ item.description }}</text>\r\n\t            </view>\r\n\t          </template>\r\n\t        </uni-list-item>\r\n\t      </uni-list>\r\n\t      <view v-else class=\"empty-tip\">暂无内容</view>\r\n\t    </scroll-view>\r\n\t  </swiper-item>\n    </swiper>\n  </view>\n</template>\n\n<script>\r\nimport { useUserStore } from '../../../store/user'\r\n\r\n\t\nexport default {\n  data() {\n    return {\n      tabList: [\n        { id: 'tab01', name: '校级活动' },\n        { id: 'tab02', name: '院级活动' },\r\n\t\t{ id: 'tab03', name: '其他活动' },\n      ],\n      tabIndex: 0\n    };\n  },\n  methods: {\n    ontabtap(e) {\n      const index = Number(e.currentTarget.dataset.current);\n      this.tabIndex = index;\n    },\n    onswiperchange(e) {\n      this.tabIndex = e.detail.current;\n    },\r\n\tgetListByIndex(index) {\r\n\t  const info = this.userStore.userInfo.data || {}\r\n\t  if (index === 0) return info.other || []\r\n\t  if (index === 1) return info.college || []\r\n\t  if (index === 2) return info.club || []\r\n\t  return []\r\n\t}\r\n\n  },\r\n  computed: {\r\n    userStore() {\r\n      return useUserStore()\r\n    }\r\n  },\r\n  components:{\r\n\r\n  }\n};\n</script>\n\n<style>\n.tabs {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #f8f8f8;\n}\n\n/* 顶部导航栏（非滚动） */\n.tab-bar {\n  height: 42px;\n  display: flex;\n  flex-direction: row;\n  border-bottom: 1px solid #ddd;\n  background-color: #f8f8f8;\n}\n\n.uni-tab-item {\n  flex: 1; /* 平均分布宽度 */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.uni-tab-item-title {\n  font-size: 15px;\n  color: #555;\n  line-height: 40px;\n}\n\n.uni-tab-item-active .uni-tab-item-title {\n  color: #aa00ff;\n  font-weight: bold;\n  border-bottom: 2px solid #aa00ff;\n}\n\n/* 内容区域 */\n.tab-box {\n  flex: 1;\n}\n\n.swiper-item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.page-item {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\r\n\r\n.list-item-box {\n  display: flex;\n  flex-direction: column;\n}\n\n.title {\n  font-weight: bold;\n  font-size: 16px;\n  margin-bottom: 4rpx;\n  color: #333;\n}\n\n.desc {\n  font-size: 14px;\n  color: #666;\n  white-space: pre-wrap; /* 支持换行 */\n}\n\n.scroll-list {\n  flex: 1;\n  overflow-y: auto;\n  padding: 20rpx;\n}\n\n.empty-tip {\n  font-size: 14px;\n  color: #999;\n  text-align: center;\n  margin-top: 40rpx;\n}\n\r\n.scroll-list {\n  height: 100%;\n  padding: 16rpx;\n  box-sizing: border-box;\n}\n\n.swiper-item {\n  height: 100%;\n}\n</style>\n","import MiniProgramPage from 'D:/NJU/code/NJUnews/code/njunews/pages/tabbar/index/index.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;AAsDA,IAAKA,SAAA,GAAU;EACbC,IAAA,WAAAA,KAAA,EAAO;IACL,OAAO;MACLC,OAAA,EAAS,CACP;QAAEC,EAAA,EAAI;QAASC,IAAA,EAAM;MAAQ,GAC7B;QAAED,EAAA,EAAI;QAASC,IAAA,EAAM;MAAQ,GACnC;QAAED,EAAA,EAAI;QAASC,IAAA,EAAM;MAAQ,EACxB;MACDC,QAAA,EAAU;IAAA;EAEb;EACDC,OAAA,EAAS;IACPC,QAAA,WAAAA,SAASC,CAAA,EAAG;MACV,IAAMC,KAAA,GAAQC,MAAA,CAAOF,CAAA,CAAEG,aAAA,CAAcC,OAAA,CAAQC,OAAO;MACpD,KAAKR,QAAA,GAAWI,KAAA;IACjB;IACDK,cAAA,WAAAA,eAAeN,CAAA,EAAG;MAChB,KAAKH,QAAA,GAAWG,CAAA,CAAEO,MAAA,CAAOF,OAAA;IAC1B;IACJG,cAAA,WAAAA,eAAeP,KAAA,EAAO;MACpB,IAAMQ,IAAA,GAAO,KAAKC,SAAA,CAAUC,QAAA,CAASlB,IAAA,IAAQ,CAAC;MAC9C,IAAIQ,KAAA,KAAU,GAAG,OAAOQ,IAAA,CAAKG,KAAA,IAAS,EAAC;MACvC,IAAIX,KAAA,KAAU,GAAG,OAAOQ,IAAA,CAAKI,OAAA,IAAW,EAAC;MACzC,IAAIZ,KAAA,KAAU,GAAG,OAAOQ,IAAA,CAAKK,IAAA,IAAQ,EAAC;MACtC,OAAO,EAAC;IACV;EAEE;EACDC,QAAA,EAAU;IACRL,SAAA,WAAAA,UAAA,EAAY;MACV,OAAOM,UAAA,CAAAC,YAAA,EAAa;IACtB;EACD;EACDC,UAAA,EAAW,CAEX;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzFAC,EAAA,CAAGC,UAAA,CAAWC,eAAe","ignoreList":[]}