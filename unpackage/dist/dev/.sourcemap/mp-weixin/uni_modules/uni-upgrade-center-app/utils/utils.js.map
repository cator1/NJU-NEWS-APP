{"version":3,"file":"utils.js","sources":["uni_modules/uni-upgrade-center-app/utils/utils.ts"],"sourcesContent":["export const platform_iOS: string = 'iOS';\nexport const platform_Android: string = 'Android';\nexport const platform_Harmony: string = 'Harmony';\n\n/**\n * 对比版本号，如需要，请自行修改判断规则\n * 支持比对\t(\"3.0.0.0.0.1.0.1\", \"3.0.0.0.0.1\")\t(\"3.0.0.1\", \"3.0\")\t(\"3.1.1\", \"3.1.1.1\") 之类的\n * @param {Object} v1\n * @param {Object} v2\n * v1 > v2 return 1\n * v1 < v2 return -1\n * v1 == v2 return 0\n */\nexport function compare(v_1: string = '0', v_2: string = '0') {\n\tconst v1: string[] = String(v_1).split('.');\n\tconst v2: string[] = String(v_2).split('.');\n\tconst minVersionLens = Math.min(v1.length, v2.length);\n\n\tlet result = 0;\n\tfor (let i = 0; i < minVersionLens; i++) {\n\t\tconst curV1 = Number(v1[i]);\n\t\tconst curV2 = Number(v2[i]);\n\n\t\tif (curV1 > curV2) {\n\t\t\tresult = 1;\n\t\t\tbreak;\n\t\t} else if (curV1 < curV2) {\n\t\t\tresult = -1;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (result === 0 && v1.length !== v2.length) {\n\t\tconst v1BiggerThenv2 = v1.length > v2.length;\n\t\tconst maxLensVersion = v1BiggerThenv2 ? v1 : v2;\n\t\tfor (let i = minVersionLens; i < maxLensVersion.length; i++) {\n\t\t\tconst curVersion = Number(maxLensVersion[i]);\n\t\t\tif (curVersion > 0) {\n\t\t\t\tv1BiggerThenv2 ? (result = 1) : (result = -1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}"],"names":[],"mappings":";AAAO,MAAM,eAAuB;AAC7B,MAAM,mBAA2B;AACjC,MAAM,mBAA2B;AAWjC,SAAS,QAAQ,MAAc,KAAK,MAAc,KAAK;AAC7D,QAAM,KAAe,OAAO,GAAG,EAAE,MAAM,GAAG;AAC1C,QAAM,KAAe,OAAO,GAAG,EAAE,MAAM,GAAG;AAC1C,QAAM,iBAAiB,KAAK,IAAI,GAAG,QAAQ,GAAG,MAAM;AAEpD,MAAI,SAAS;AACb,WAAS,IAAI,GAAG,IAAI,gBAAgB,KAAK;AACxC,UAAM,QAAQ,OAAO,GAAG,CAAC,CAAC;AAC1B,UAAM,QAAQ,OAAO,GAAG,CAAC,CAAC;AAE1B,QAAI,QAAQ,OAAO;AACT,eAAA;AACT;AAAA,IAAA,WACU,QAAQ,OAAO;AAChB,eAAA;AACT;AAAA,IACD;AAAA,EACD;AAEA,MAAI,WAAW,KAAK,GAAG,WAAW,GAAG,QAAQ;AACtC,UAAA,iBAAiB,GAAG,SAAS,GAAG;AAChC,UAAA,iBAAiB,iBAAiB,KAAK;AAC7C,aAAS,IAAI,gBAAgB,IAAI,eAAe,QAAQ,KAAK;AAC5D,YAAM,aAAa,OAAO,eAAe,CAAC,CAAC;AAC3C,UAAI,aAAa,GAAG;AACD,yBAAA,SAAS,IAAM,SAAS;AAC1C;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAEO,SAAA;AACR;;;;;"}